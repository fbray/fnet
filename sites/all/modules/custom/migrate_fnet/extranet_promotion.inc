<?php
/**
 * Created by PhpStorm.
 * User: rositis
 * Date: 5/22/17
 * Time: 11:06 AM
 */

/*
 *  Extranet Promotion Migration Class
*/
class FNETExtranetPromotionMigration extends DrupalNode7Migration {
  public function __construct(array $arguments) {
    parent::__construct($arguments);

    // Put mapping logic here for fields.

    // Individual Fields
    $this->addFieldMapping('field_display_title', 'field_display_title');
    $this->addFieldMapping('field_date_range', 'field_date_range');

    /* For the future, these should be generated by references to a view. */
    $this->addFieldMapping('field_extranet_permissions', 'field_extranet_permissions'); // values are PHP generated by fextranet_get_content_roles.
    $this->addFieldMapping('field_group_countries', 'field_group_countries'); // values are PHP generated by fextranet_get_region_countries.

    // Entity References
    $this->addFieldMapping('field_media_gallery', 'field_media_gallery')
      ->sourceMigration('FNETMediaGalleryMigration'); // TODO: Uses multiselect
    $this->addFieldMapping('field_extranet_product_link', 'field_extranet_product_link')
      ->sourceMigration('FNETProductMigration'); // TODO: Uses checkboxes/radio
    $this->addFieldMapping('field_dam_related_product', 'field_dam_related_product')
      ->sourceMigration('FNETProductMigration'); // TODO: Uses multiselect

  }
}